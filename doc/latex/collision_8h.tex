\hypertarget{collision_8h}{
\section{collision/collision.h File Reference}
\label{collision_8h}\index{collision/collision.h@{collision/collision.h}}
}
Pixel precise collision routine. 

{\tt \#include $<$sprite.h$>$}\par
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define \hyperlink{collision_8h_ef04de10f0188394d63f4be63d51a3a4}{COLLISION\_\-COLLIDE}~0x8000
\item 
\#define \hyperlink{collision_8h_f4925d01af3ece8ae46432ea9224670d}{COLLISION\_\-INTERSECT}~0x80
\item 
\#define \hyperlink{collision_8h_b69d13fe3422fd098520c2e18155f17a}{COLLISION\_\-Y1\_\-LE\_\-Y2}~0x1
\item 
\#define \hyperlink{collision_8h_acdb0c21dc2b4334a3a697f9bbe8bcc3}{COLLISION\_\-X1\_\-LE\_\-X2}~0x2
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
void $\ast$ \hyperlink{collision_8h_7f4be2106b6556ad3881c58655d45243}{init\_\-collision\_\-routine} (void $\ast$addr)
\item 
void \hyperlink{collision_8h_40e0c7921a3c2839de08863f0abf603e}{launch\_\-collision\_\-test} (\hyperlink{structsprite}{sprite} $\ast$s1, \hyperlink{structsprite}{sprite} $\ast$s2)
\item 
long \hyperlink{collision_8h_e7e6bfd94ddfc048e9991e189ce3fc74}{is\_\-collision\_\-done} ()
\item 
long \hyperlink{collision_8h_a8397216959cbc0822c9183342651b07}{get\_\-collision\_\-result} (short int $\ast$y, short int $\ast$h, short int $\ast$x, short int $\ast$w)
\end{CompactItemize}


\subsection{Detailed Description}
Pixel precise collision routine. 



\subsection{Define Documentation}
\hypertarget{collision_8h_ef04de10f0188394d63f4be63d51a3a4}{
\index{collision.h@{collision.h}!COLLISION_COLLIDE@{COLLISION\_\-COLLIDE}}
\index{COLLISION_COLLIDE@{COLLISION\_\-COLLIDE}!collision.h@{collision.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define COLLISION\_\-COLLIDE~0x8000}}
\label{collision_8h_ef04de10f0188394d63f4be63d51a3a4}


The two sprites collide. \hypertarget{collision_8h_f4925d01af3ece8ae46432ea9224670d}{
\index{collision.h@{collision.h}!COLLISION_INTERSECT@{COLLISION\_\-INTERSECT}}
\index{COLLISION_INTERSECT@{COLLISION\_\-INTERSECT}!collision.h@{collision.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define COLLISION\_\-INTERSECT~0x80}}
\label{collision_8h_f4925d01af3ece8ae46432ea9224670d}


The bounding boxes of the two sprites intersect. \hypertarget{collision_8h_acdb0c21dc2b4334a3a697f9bbe8bcc3}{
\index{collision.h@{collision.h}!COLLISION_X1_LE_X2@{COLLISION\_\-X1\_\-LE\_\-X2}}
\index{COLLISION_X1_LE_X2@{COLLISION\_\-X1\_\-LE\_\-X2}!collision.h@{collision.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define COLLISION\_\-X1\_\-LE\_\-X2~0x2}}
\label{collision_8h_acdb0c21dc2b4334a3a697f9bbe8bcc3}


The first \hyperlink{structsprite}{sprite} is on the left of the second one. \hypertarget{collision_8h_b69d13fe3422fd098520c2e18155f17a}{
\index{collision.h@{collision.h}!COLLISION_Y1_LE_Y2@{COLLISION\_\-Y1\_\-LE\_\-Y2}}
\index{COLLISION_Y1_LE_Y2@{COLLISION\_\-Y1\_\-LE\_\-Y2}!collision.h@{collision.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define COLLISION\_\-Y1\_\-LE\_\-Y2~0x1}}
\label{collision_8h_b69d13fe3422fd098520c2e18155f17a}


The first \hyperlink{structsprite}{sprite} is above the second one. 

\subsection{Function Documentation}
\hypertarget{collision_8h_a8397216959cbc0822c9183342651b07}{
\index{collision.h@{collision.h}!get_collision_result@{get\_\-collision\_\-result}}
\index{get_collision_result@{get\_\-collision\_\-result}!collision.h@{collision.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}long get\_\-collision\_\-result (short int $\ast$ {\em y}, short int $\ast$ {\em h}, short int $\ast$ {\em x}, short int $\ast$ {\em w})}}
\label{collision_8h_a8397216959cbc0822c9183342651b07}


Returns the result of the collision test.

If COLLISION\_\-INTERSECT then the two bounding boxes intersect. In this case, it returns the coordinates of the intersection box.

If COLLISION\_\-Y1\_\-LE\_\-Y2 then y is relative to first \hyperlink{structsprite}{sprite}, otherwise relative to the second \hyperlink{structsprite}{sprite}.

If COLLISION\_\-X1\_\-LE\_\-X2 then xis relative to first \hyperlink{structsprite}{sprite}, otherwise relative to the second \hyperlink{structsprite}{sprite}. \begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
y}]Y coordinate of the intersection box \item[{\em 
h}]Height of the intersection box \item[{\em 
x}]X coordinate of the intersection box \item[{\em 
w}]Width of the intersection box \end{description}
\end{Desc}
\hypertarget{collision_8h_7f4be2106b6556ad3881c58655d45243}{
\index{collision.h@{collision.h}!init_collision_routine@{init\_\-collision\_\-routine}}
\index{init_collision_routine@{init\_\-collision\_\-routine}!collision.h@{collision.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ init\_\-collision\_\-routine (void $\ast$ {\em addr})}}
\label{collision_8h_7f4be2106b6556ad3881c58655d45243}


Initialise the GPU collision routine.

The given address must be an address in GPU ram where to load the GPU routine.

It returns the address of the end of the collision routine in GPU ram (which is long aligned). \begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
addr}]Address where to load the GPU routine. It should be long aligned. \end{description}
\end{Desc}
\hypertarget{collision_8h_e7e6bfd94ddfc048e9991e189ce3fc74}{
\index{collision.h@{collision.h}!is_collision_done@{is\_\-collision\_\-done}}
\index{is_collision_done@{is\_\-collision\_\-done}!collision.h@{collision.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}long is\_\-collision\_\-done ()}}
\label{collision_8h_e7e6bfd94ddfc048e9991e189ce3fc74}


Checks whether the collision test launched with \hyperlink{collision_8h_40e0c7921a3c2839de08863f0abf603e}{launch\_\-collision\_\-test} has finished. \hypertarget{collision_8h_40e0c7921a3c2839de08863f0abf603e}{
\index{collision.h@{collision.h}!launch_collision_test@{launch\_\-collision\_\-test}}
\index{launch_collision_test@{launch\_\-collision\_\-test}!collision.h@{collision.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void launch\_\-collision\_\-test ({\bf sprite} $\ast$ {\em s1}, {\bf sprite} $\ast$ {\em s2})}}
\label{collision_8h_40e0c7921a3c2839de08863f0abf603e}


Run the collision test between the two given sprites.

The collision routine works only with 16 bit sprites that are not scaled and not reflected.

The result of the test can be read with \hyperlink{collision_8h_a8397216959cbc0822c9183342651b07}{get\_\-collision\_\-result}. \begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
s1}]Address of the first \hyperlink{structsprite}{sprite}. It should be long aligned. \item[{\em 
s2}]Address of the second \hyperlink{structsprite}{sprite} \hyperlink{structsprite}{sprite}. It should be long aligned. \end{description}
\end{Desc}
