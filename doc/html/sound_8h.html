<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>The Removers Libraries: sound/sound.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>sound/sound.h File Reference</h1>Sound driver. <a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#fa96285ca559bde80a698f5ecba5f276">VOICE_16</a>&nbsp;&nbsp;&nbsp;(1&lt;&lt;31)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#7902f2a6055686ebb924497c2c8e44c8">VOICE_BALANCE</a>(r)&nbsp;&nbsp;&nbsp;(r &lt;&lt; 24)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#14c7eebf2cf42569ab164b81cce15d65">VOICE_VOLUME</a>(v)&nbsp;&nbsp;&nbsp;(v &lt;&lt; 16)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#4fa31ec0931963283e51af8745eacb15">VOICE_FREQ</a>(replay_freq, freq)&nbsp;&nbsp;&nbsp;(((freq * 4096) / replay_freq) &amp; 0xffff)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#03cc970027e4f34a30032b18c43ea9c0">init_sound_driver</a> (int frequency)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#8bcd3096153381707eccf34a369c00bc">set_voice</a> (int voice_num, int control, char *start, int len, char *loop_start, int loop_len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#23b3e574592a6b67fccb30359c5cb44e">set_panning</a> (int voice_num, int panning)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#e05c1997435d78a9edc701d7e8f65991">set_volume</a> (int voice_num, int volume)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#27ba8a26eec3c49641bdf7d3f55f2001">clear_voice</a> (int voice_num)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#d6ddc0adbed9704c699b720bd420c442">init_module</a> (char *module, int tempo_enabled)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#d48dc8c8ad149ed92c18f55b22425351">play_module</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#17a64c0098264530befdfc5dc4e3c29b">clear_module</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#6e56e02c8153ac75e45aeb9cdfa91697">pause_module</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#d36785f4fd79486b5ac3d9243e97f5ad">enable_module_voices</a> (int mask)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#6d25520db0e0f624d5933b09a620563a">jump_dsp_subroutine</a> (void *addr)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#9c6d136991a00ea0ca2e2b6c0171e629">_DSP_FREE_RAM</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">short int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sound_8h.html#dbc114f900b9c2d12970fb6ee1a7effb">amiga_frequencies</a> [MAX_PERIOD]</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Sound driver. 
<p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="fa96285ca559bde80a698f5ecba5f276"></a><!-- doxytag: member="sound.h::VOICE_16" ref="fa96285ca559bde80a698f5ecba5f276" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VOICE_16&nbsp;&nbsp;&nbsp;(1&lt;&lt;31)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
16 bits sound 
</div>
</div><p>
<a class="anchor" name="7902f2a6055686ebb924497c2c8e44c8"></a><!-- doxytag: member="sound.h::VOICE_BALANCE" ref="7902f2a6055686ebb924497c2c8e44c8" args="(r)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VOICE_BALANCE          </td>
          <td>(</td>
          <td class="paramtype">r&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(r &lt;&lt; 24)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Balance [0..16] 
</div>
</div><p>
<a class="anchor" name="4fa31ec0931963283e51af8745eacb15"></a><!-- doxytag: member="sound.h::VOICE_FREQ" ref="4fa31ec0931963283e51af8745eacb15" args="(replay_freq, freq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VOICE_FREQ          </td>
          <td>(</td>
          <td class="paramtype">replay_freq,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">freq&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(((freq * 4096) / replay_freq) &amp; 0xffff)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Frequency increment [0..0xffff] 
</div>
</div><p>
<a class="anchor" name="14c7eebf2cf42569ab164b81cce15d65"></a><!-- doxytag: member="sound.h::VOICE_VOLUME" ref="14c7eebf2cf42569ab164b81cce15d65" args="(v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VOICE_VOLUME          </td>
          <td>(</td>
          <td class="paramtype">v&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(v &lt;&lt; 16)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Volume [0..64] 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="17a64c0098264530befdfc5dc4e3c29b"></a><!-- doxytag: member="sound.h::clear_module" ref="17a64c0098264530befdfc5dc4e3c29b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clear_module           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clear the module 
</div>
</div><p>
<a class="anchor" name="27ba8a26eec3c49641bdf7d3f55f2001"></a><!-- doxytag: member="sound.h::clear_voice" ref="27ba8a26eec3c49641bdf7d3f55f2001" args="(int voice_num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clear_voice           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>voice_num</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clear the given voice <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>voice_num</em>&nbsp;</td><td>
voice </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="d36785f4fd79486b5ac3d9243e97f5ad"></a><!-- doxytag: member="sound.h::enable_module_voices" ref="d36785f4fd79486b5ac3d9243e97f5ad" args="(int mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int enable_module_voices           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mask</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set modules voices mask. It returns the mask set. <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>mask</em>&nbsp;</td><td>
Mask to enable/disable voice of a module. Bit 0 = Voice 0, Bit 1 = Voice 1, ... </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="d6ddc0adbed9704c699b720bd420c442"></a><!-- doxytag: member="sound.h::init_module" ref="d6ddc0adbed9704c699b720bd420c442" args="(char *module, int tempo_enabled)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_module           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tempo_enabled</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialise the Protracker player. The length in bytes of the module is not checked and is thus assumed correct. For safety reasons, you should add a buffer of 31*2 bytes at the end of the module since some values are fixed in the module by this function. It returns the number of voices of the music. <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>module</em>&nbsp;</td><td>
address of the music </td></tr>
<tr><td valign="top"><em>tempo_enabled</em>&nbsp;</td><td>
enable/disable tempo commands </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="03cc970027e4f34a30032b18c43ea9c0"></a><!-- doxytag: member="sound.h::init_sound_driver" ref="03cc970027e4f34a30032b18c43ea9c0" args="(int frequency)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_sound_driver           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>frequency</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialises the <a class="el" href="structdisplay.html">display</a> driver and the DSP subroutine manager. It returns back the real replay frequency. <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>frequency</em>&nbsp;</td><td>
desired replay frequency </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="6d25520db0e0f624d5933b09a620563a"></a><!-- doxytag: member="sound.h::jump_dsp_subroutine" ref="6d25520db0e0f624d5933b09a620563a" args="(void *addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jump_dsp_subroutine           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>addr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Call a DSP subroutine in DSP ram. <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>addr</em>&nbsp;</td><td>
Address of the subroutine </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="6e56e02c8153ac75e45aeb9cdfa91697"></a><!-- doxytag: member="sound.h::pause_module" ref="6e56e02c8153ac75e45aeb9cdfa91697" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pause_module           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Play/Pause the replay of the current music 
</div>
</div><p>
<a class="anchor" name="d48dc8c8ad149ed92c18f55b22425351"></a><!-- doxytag: member="sound.h::play_module" ref="d48dc8c8ad149ed92c18f55b22425351" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void play_module           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Protracker routine to be called each VBL (50 or 60 Hz) 
</div>
</div><p>
<a class="anchor" name="23b3e574592a6b67fccb30359c5cb44e"></a><!-- doxytag: member="sound.h::set_panning" ref="23b3e574592a6b67fccb30359c5cb44e" args="(int voice_num, int panning)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_panning           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>voice_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>panning</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set voice panning <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>voice_num</em>&nbsp;</td><td>
voice </td></tr>
<tr><td valign="top"><em>panning</em>&nbsp;</td><td>
panning </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="8bcd3096153381707eccf34a369c00bc"></a><!-- doxytag: member="sound.h::set_voice" ref="8bcd3096153381707eccf34a369c00bc" args="(int voice_num, int control, char *start, int len, char *loop_start, int loop_len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_voice           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>voice_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>loop_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>loop_len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Play a sample <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>voice_num</em>&nbsp;</td><td>
voice </td></tr>
<tr><td valign="top"><em>control</em>&nbsp;</td><td>
voice control (i.e. 8/16 bits, panning, volume, frequency) </td></tr>
<tr><td valign="top"><em>start</em>&nbsp;</td><td>
start of sample </td></tr>
<tr><td valign="top"><em>len</em>&nbsp;</td><td>
length in bytes </td></tr>
<tr><td valign="top"><em>loop_start</em>&nbsp;</td><td>
re-start address of sample (or NULL if no re-play) </td></tr>
<tr><td valign="top"><em>loop_len</em>&nbsp;</td><td>
lenght in bytes of the loop </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="e05c1997435d78a9edc701d7e8f65991"></a><!-- doxytag: member="sound.h::set_volume" ref="e05c1997435d78a9edc701d7e8f65991" args="(int voice_num, int volume)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_volume           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>voice_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>volume</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set voice volume <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>voice_num</em>&nbsp;</td><td>
voice </td></tr>
<tr><td valign="top"><em>volume</em>&nbsp;</td><td>
volume </td></tr>
</table>
</dl>
</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="9c6d136991a00ea0ca2e2b6c0171e629"></a><!-- doxytag: member="sound.h::_DSP_FREE_RAM" ref="9c6d136991a00ea0ca2e2b6c0171e629" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="sound_8h.html#9c6d136991a00ea0ca2e2b6c0171e629">_DSP_FREE_RAM</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free DSP ram is available at &amp;_DSP_FREE_RAM. 
</div>
</div><p>
<a class="anchor" name="dbc114f900b9c2d12970fb6ee1a7effb"></a><!-- doxytag: member="sound.h::amiga_frequencies" ref="dbc114f900b9c2d12970fb6ee1a7effb" args="[MAX_PERIOD]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short int <a class="el" href="sound_8h.html#dbc114f900b9c2d12970fb6ee1a7effb">amiga_frequencies</a>[MAX_PERIOD]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Amiga period to frequencies increment. Initialised by <a class="el" href="sound_8h.html#03cc970027e4f34a30032b18c43ea9c0">init_sound_driver</a> since it depends on the replay frequency. 
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Dec 18 20:36:28 2007 for The Removers Libraries by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
